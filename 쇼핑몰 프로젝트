#include <stdio.h>
#include <stdlib.h>
#define SIZE 100

void most_sold(int* product, int* ID, int* sale_num, int sale[]);
void least_sold(int* product, int* ID, int* sale_num, int sale[]);

int main(void)
{
	int product_num = 0;
	int inventory[SIZE] = {};
	int sale[SIZE] = {};
	int stock[SIZE] = {};
	int ID = 1;
	int T_inven = 0;
	int T_sales = 0;
	int sale_num = sale[0];

	printf("상품 개수 입력: ");
	scanf_s("%d", &product_num);
	printf("\n");

	printf("상품 별 입고수량 입력: ");
	for (int i = 0; i < product_num; i++)
		scanf_s(" %d", &inventory[i]);
	printf("\n");

	printf("상품 별 판매수량 입력: ");
	for (int i = 0; i < product_num; i++)
		scanf_s(" %d", &sale[i]);

	for (int i = 0; i < product_num; i++)
		stock[i] = inventory[i] - sale[i];
	printf("\n");

	printf("모든 상품의 재고 수량: ");
	for (int i = 0; i < product_num; i++)
		printf("%d ", stock[i]);
	printf("\n");

	for (int i = 0; i < product_num; i++)
	{
		T_sales += sale[i];
		T_inven += inventory[i];
	}
	printf("총 판매량: %d (판매율 %.2f)\n", T_sales, (((float)T_sales / T_inven) * 100));

	most_sold(&product_num, &ID, &sale_num ,&sale[0]);
	least_sold(&product_num, &ID, &sale_num, &sale[0]);

	for (int i = 0; i < product_num; i++)
	{
		if (stock[i] <= 2)
			printf("상품 ID %d : 재고부족(%d)\n", i, stock[i]);
	}

	return 0;
}

void most_sold(int* product, int* ID, int* sale_num, int sale[])
{
	*ID = 1;
	*sale_num = sale[0];
	for (int i = 0; i < *product; i++)
	{
		if (*sale_num < sale[i])
		{
			*sale_num = sale[i];
			*ID = (i + 1);
		}
	}
	printf("가장 많이 판매된 상품 : ID %d, 판매량 %d\n", *ID, *sale_num);
}

void least_sold(int* product, int* ID, int* sale_num, int sale[])
{
	*ID = 1;
	*sale_num = sale[0];
	for (int i = 0; i < *product; i++)
	{
		if (*sale_num > sale[i])
		{
			*sale_num = sale[i];
			*ID = (i + 1);
		}
	}
	printf("가장 적게 판매된 상품 : ID %d, 판매량 %d\n", *ID, *sale_num);
}
